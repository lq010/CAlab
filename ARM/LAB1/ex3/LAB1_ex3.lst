


ARM Macro Assembler    Page 1 


    1 00000000 00000004 
                       size_32 EQU              0x00000004
    2 00000000         
    3 00000000                 AREA             MYDATA, NOINIT, READWRITE, ALIG
N=3
    4 00000000         mean    SPACE            size_32
    5 00000004         max_differ
                               SPACE            size_32
    6 00000008         max_value
                               SPACE            size_32
    7 0000000C         min_value
                               SPACE            size_32
    8 00000010         
    9 00000010                 AREA             MYCODE, CODE, READONLY
   10 00000000                 ENTRY
   11 00000000 E3A00000        MOV              R0,#0       ;(otherwise give th
                                                            e error "Entry poin
                                                            t does not point to
                                                             an instruction") 
   12 00000004 FFFFFFFE 
              FFFFFFFF 
              00000003 
              00000003 
              00000005 
              00000006 
              00000007 
              00000008 sequence
                               DCD              -2,-1,3,3,5,6,7,8
   13 00000024         
   14 00000024         ;check increasing
   15 00000024 E3A01102        MOV              R1,#0x80000000 ;lowest possibl 
                                                            value at start
   16 00000028 E59F0048        LDR              R0,=sequence ;pointer to sequen
                                                            ce
   17 0000002C         increasing_loop
   18 0000002C E4902004        LDR              R2,[R0],#4  ;load value (post-a
                                                            ddressing mode)
   19 00000030 E1520001        CMP              R2,R1
   20 00000034 BA00000F        BLT              decreasing_loop ;exit directly 
                                                            if found R2 < R1
   21 00000038 11A01002        MOVNE            R1,R2       ;update previous va
                                                            lue (if not equal)
   22 0000003C E2844001        ADD              R4,R4,#1
   23 00000040 E3540008        CMP              R4,#8
   24 00000044 1AFFFFF8        BNE              increasing_loop
   25 00000048         
   26 00000048         ;compute mean value
   27 00000048         sum_loop
   28 00000048 E5302004        LDR              R2,[R0,#-4]! ;reload the vector
                                                             starting from the 
                                                            end
   29 0000004C E0833002        ADD              R3,R3,R2    ;R3 contains the su
                                                            m of all the values
                                                            
   30 00000050 E2444001        SUB              R4,R4,#1
   31 00000054 E3540000        CMP              R4,#0
   32 00000058 1AFFFFFA        BNE              sum_loop
   33 0000005C         
   34 0000005C         mean_loop



ARM Macro Assembler    Page 2 


   35 0000005C E2433008        SUB              R3,R3,#8    ;dividing R3 by 8 b
                                                            y multiple differen
                                                            ces
   36 00000060 E3530000        CMP              R3,#0
   37 00000064 A2844001        ADDGE            R4,R4,#1    ;quotient
   38 00000068 CAFFFFFB        BGT              mean_loop   ;retry only if grea
                                                            ter than (not equal
                                                            )
   39 0000006C         
   40 0000006C E59F0008        LDR              R0,=mean
   41 00000070 E5804000        STR              R4,[R0]
   42 00000074 EAFFFFFF        B                end_programm
   43 00000078         
   44 00000078         ;check decreasing
   45 00000078         decreasing_loop
   46 00000078         
   47 00000078         end_programm
   48 00000078         
   49 00000078                 END
              00000000 
              00000000 
Command Line: --debug --xref --apcs=interwork --depend=LAB1_ex3.d -oLAB1_ex3.o 
-IC:\Keil\ARM\INC -IC:\Keil\ARM\INC\Philips --predefine="__EVAL SETA 1" --list=
LAB1_ex3.lst LAB1_ex3.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

MYDATA 00000000

Symbol: MYDATA
   Definitions
      At line 3 in file LAB1_ex3.s
   Uses
      None
Comment: MYDATA unused
max_differ 00000004

Symbol: max_differ
   Definitions
      At line 5 in file LAB1_ex3.s
   Uses
      None
Comment: max_differ unused
max_value 00000008

Symbol: max_value
   Definitions
      At line 6 in file LAB1_ex3.s
   Uses
      None
Comment: max_value unused
mean 00000000

Symbol: mean
   Definitions
      At line 4 in file LAB1_ex3.s
   Uses
      At line 40 in file LAB1_ex3.s
Comment: mean used once
min_value 0000000C

Symbol: min_value
   Definitions
      At line 7 in file LAB1_ex3.s
   Uses
      None
Comment: min_value unused
5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

MYCODE 00000000

Symbol: MYCODE
   Definitions
      At line 9 in file LAB1_ex3.s
   Uses
      None
Comment: MYCODE unused
decreasing_loop 00000078

Symbol: decreasing_loop
   Definitions
      At line 45 in file LAB1_ex3.s
   Uses
      At line 20 in file LAB1_ex3.s
Comment: decreasing_loop used once
end_programm 00000078

Symbol: end_programm
   Definitions
      At line 47 in file LAB1_ex3.s
   Uses
      At line 42 in file LAB1_ex3.s
Comment: end_programm used once
increasing_loop 0000002C

Symbol: increasing_loop
   Definitions
      At line 17 in file LAB1_ex3.s
   Uses
      At line 24 in file LAB1_ex3.s
Comment: increasing_loop used once
mean_loop 0000005C

Symbol: mean_loop
   Definitions
      At line 34 in file LAB1_ex3.s
   Uses
      At line 38 in file LAB1_ex3.s
Comment: mean_loop used once
sequence 00000004

Symbol: sequence
   Definitions
      At line 12 in file LAB1_ex3.s
   Uses
      At line 16 in file LAB1_ex3.s
Comment: sequence used once
sum_loop 00000048

Symbol: sum_loop
   Definitions
      At line 27 in file LAB1_ex3.s
   Uses
      At line 32 in file LAB1_ex3.s
Comment: sum_loop used once
7 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

size_32 00000004

Symbol: size_32
   Definitions
      At line 1 in file LAB1_ex3.s
   Uses
      At line 4 in file LAB1_ex3.s
      At line 5 in file LAB1_ex3.s
      At line 6 in file LAB1_ex3.s
      At line 7 in file LAB1_ex3.s

1 symbol
339 symbols in table
